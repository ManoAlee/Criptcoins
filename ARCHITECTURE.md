# ðŸ—ï¸ ARQUITETURA DO SISTEMA - Galaxy Bitcoin System

## ðŸ“ VisÃ£o Geral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENTE (Browser)                      â”‚
â”‚              (HTML/CSS/JavaScript + Socket.IO)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/WebSocket
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FLASK SERVER (5000)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               API REST Endpoints                       â”‚ â”‚
â”‚  â”‚  â€¢ /api/status         â€¢ /api/wallets                 â”‚ â”‚
â”‚  â”‚  â€¢ /api/blockchain     â€¢ /api/transaction             â”‚ â”‚
â”‚  â”‚  â€¢ /api/mine           â€¢ /api/bitcoin/price           â”‚ â”‚
â”‚  â”‚  â€¢ /video_feed         â€¢ /api/camera/user             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               WebSocket (SocketIO)                     â”‚ â”‚
â”‚  â”‚  â€¢ price_update        â€¢ transaction_created          â”‚ â”‚
â”‚  â”‚  â€¢ block_mined         â€¢ status_update                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BLOCKCHAIN  â”‚ â”‚  BIOMETRIA   â”‚ â”‚   BITCOIN    â”‚
â”‚   CORE       â”‚ â”‚   SYSTEM     â”‚ â”‚    APIS      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Block      â”‚ â”‚ â€¢ Face       â”‚ â”‚ â€¢ CoinGecko  â”‚
â”‚ â€¢ TX         â”‚ â”‚ â€¢ Recognitionâ”‚ â”‚ â€¢ Blockchain â”‚
â”‚ â€¢ PoW        â”‚ â”‚ â€¢ Crypto Key â”‚ â”‚ â€¢ Binance    â”‚
â”‚ â€¢ Merkle     â”‚ â”‚ â€¢ Biometric  â”‚ â”‚ â€¢ Trading    â”‚
â”‚ â€¢ Validate   â”‚ â”‚ â€¢ Signature  â”‚ â”‚ â€¢ Real Data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Camera â”‚    â”‚Wallets â”‚    â”‚ Config â”‚
    â”‚ Module â”‚    â”‚Storage â”‚    â”‚ Loader â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ Fluxo de Dados

### 1. InicializaÃ§Ã£o do Sistema

```
main()
  â”œâ”€ check_python_version()
  â”œâ”€ check_dependencies()
  â”œâ”€ check_files()
  â”œâ”€ create_venv()
  â”œâ”€ install_requirements()
  â”œâ”€ validate_system()
  â””â”€ start_server()
```

### 2. Criar TransaÃ§Ã£o

```
Frontend (form)
  â””â”€ POST /api/transaction
     â””â”€ simple_app.create_transaction()
        â””â”€ SimpleBitcoinSystem.create_validated_transaction()
           â””â”€ blockchain.add_transaction()
              â””â”€ storage.save()
                 â””â”€ WebSocket: emit('transaction_created')
```

### 3. Minerar Bloco

```
Frontend (button)
  â””â”€ POST /api/mine
     â””â”€ mine_async()
        â””â”€ SimpleBlock.mine_block()
           â”œâ”€ calculate_hash() (loop)
           â”œâ”€ increment_nonce()
           â”œâ”€ validate_pow()
           â””â”€ blockchain.add_block()
              â””â”€ WebSocket: emit('block_mined')
```

### 4. Atualizar PreÃ§o Bitcoin

```
WebSocket Connection
  â””â”€ bitcoin_api.start_websocket()
     â””â”€ Binance WS (stream)
        â””â”€ parse_price()
           â””â”€ emit('price_update')
              â””â”€ Frontend recebe em real-time
```

---

## ðŸ“¦ Estrutura de Camadas

### **Camada 1: ApresentaÃ§Ã£o**
```
templates/simple_index.html
â”œâ”€ HTML (estrutura)
â”œâ”€ CSS (estilos, animaÃ§Ãµes)
â””â”€ JavaScript (interatividade)
    â”œâ”€ Fetch API (REST)
    â””â”€ Socket.IO (WebSocket)
```

### **Camada 2: API (Flask)**
```
simple_app.py
â”œâ”€ @app.route('/') - Dashboard
â”œâ”€ @app.route('/video_feed') - CÃ¢mera
â”œâ”€ @app.route('/api/*') - REST APIs
â”œâ”€ @socketio.on('*') - WebSocket handlers
â””â”€ Error handling & CORS
```

### **Camada 3: LÃ³gica de NegÃ³cio**
```
SimpleBitcoinSystem
â”œâ”€ SimpleBlockchain
â”‚  â”œâ”€ create_genesis_block()
â”‚  â”œâ”€ add_transaction()
â”‚  â”œâ”€ mine_pending_transactions()
â”‚  â””â”€ get_balance()
â”œâ”€ SimpleWallet
â”‚  â”œâ”€ address (unique)
â”‚  â””â”€ balance
â””â”€ SimpleTransaction
   â”œâ”€ sender
   â”œâ”€ recipient
   â””â”€ amount
```

### **Camada 4: Dados & PersistÃªncia**
```
Data Storage
â”œâ”€ Wallets (in-memory/JSON)
â”œâ”€ Blockchain (in-memory)
â”œâ”€ Transactions (pending/confirmed)
â””â”€ Cache (Bitcoin APIs)
```

### **Camada 5: IntegraÃ§Ãµes Externas**
```
BitcoinAPI
â”œâ”€ CoinGecko (REST)
â”œâ”€ Blockchain.info (REST)
â”œâ”€ Binance (WebSocket)
â””â”€ Error handling & fallback
```

---

## ðŸ” SeguranÃ§a - Camadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HTTPS/TLS (Transport)         â”‚
â”‚   â€¢ SSL/TLS encryption          â”‚
â”‚   â€¢ Certificate validation      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Authentication                â”‚
â”‚   â€¢ Biometric (Face)            â”‚
â”‚   â€¢ JWT tokens (future)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Input Validation              â”‚
â”‚   â€¢ Type checking               â”‚
â”‚   â€¢ Range validation            â”‚
â”‚   â€¢ SQL injection prevention    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Business Logic Security       â”‚
â”‚   â€¢ Balance validation          â”‚
â”‚   â€¢ Duplicate TX prevention     â”‚
â”‚   â€¢ Chain validation            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cryptography                  â”‚
â”‚   â€¢ AES-256-GCM (encryption)   â”‚
â”‚   â€¢ ECDSA (signatures)          â”‚
â”‚   â€¢ PBKDF2 (key derivation)    â”‚
â”‚   â€¢ SHA-256 (hashing)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Data Storage                  â”‚
â”‚   â€¢ Encrypted at rest           â”‚
â”‚   â€¢ Access control              â”‚
â”‚   â€¢ Audit logging               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¥ Sistema de CÃ¢mera

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    OpenCV Camera Capture        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ Read frame (30 FPS)
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Face Detection (Haar)        â”‚
â”‚    â€¢ Scale: 1.1                 â”‚
â”‚    â€¢ Min neighbors: 5           â”‚
â”‚    â€¢ Min size: (30, 30)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 3 frames (skip 2)
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Biometric Features           â”‚
â”‚    â€¢ Gaussian Curvature         â”‚
â”‚    â€¢ Topological Analysis       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Draw Overlay                 â”‚
â”‚    â€¢ Rectangles                 â”‚
â”‚    â€¢ Labels                     â”‚
â”‚    â€¢ Status info                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    JPEG Encode                  â”‚
â”‚    â€¢ Quality: 90%               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MJPEG Stream (HTTP)          â”‚
â”‚    â€¢ Multipart/x-mixed-replace  â”‚
â”‚    â€¢ Boundary frame             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â›“ï¸ Blockchain - Fluxo Detalhado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    TransaÃ§Ã£o Criada             â”‚
â”‚    {from, to, amount}           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Validar Sender               â”‚
â”‚    â€¢ Existe carteira?           â”‚
â”‚    â€¢ Saldo suficiente?          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ âœ… VÃ¡lida
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    TX Hash = SHA256()           â”‚
â”‚    {sender}{recipient}          â”‚
â”‚    {amount}{timestamp}          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Adicionar ao Mempool         â”‚
â”‚    pending_transactions[]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼ (quando tem txs)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Criar Novo Bloco             â”‚
â”‚    index, timestamp, txs        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Calcular Merkle Root         â”‚
â”‚    TX1 TX2 TX3 -> hash tree     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Proof of Work                â”‚
â”‚    Difficulty (leading zeros)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ nonce = 0
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Loop Mining                  â”‚
â”‚    â”œâ”€ Increment nonce           â”‚
â”‚    â”œâ”€ Hash block (SHA256)       â”‚
â”‚    â””â”€ Check leading zeros?      â”‚
â”‚       â”œâ”€ NÃ£o â†’ loop             â”‚
â”‚       â””â”€ Sim â†’ sucesso!         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Validar Bloco                â”‚
â”‚    â€¢ Hash correto?              â”‚
â”‚    â€¢ Nonce vÃ¡lido?              â”‚
â”‚    â€¢ Prev hash match?           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ âœ… VÃ¡lido
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Adicionar Ã  Cadeia           â”‚
â”‚    chain[] -> bloco             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Limpar Mempool               â”‚
â”‚    pending_transactions = []    â”‚
â”‚    + Mining reward TX           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    WebSocket: block_mined       â”‚
â”‚    Notificar clientes           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”Œ Fluxo WebSocket

```
Client                          Server
  â”‚                               â”‚
  â”œâ”€â”€â”€â”€ connect() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>
  â”‚                               â”‚
  â”‚<â”€â”€â”€â”€ connected event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚
  â”œâ”€â”€â”€â”€ request_update() â”€â”€â”€â”€â”€â”€â”€â”€>
  â”‚                               â”‚
  â”‚<â”€â”€â”€â”€ status_update event â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚
  â”‚                 (Bitcoin API) â”‚
  â”‚                    â”‚          â”‚
  â”‚                    â””â”€â”€> Binance WS
  â”‚                    â”‚
  â”‚<â”€â”€â”€â”€ price_update event â”€â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚
  â”œâ”€â”€â”€â”€ POST /api/transaction â”€â”€â”€>
  â”‚                               â”‚
  â”‚<â”€â”€â”€â”€ transaction_created â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚
  â”œâ”€â”€â”€â”€ POST /api/mine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>
  â”‚                               â”‚
  â”‚                     mining... â”‚
  â”‚                               â”‚
  â”‚<â”€â”€â”€â”€ block_mined event â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚
  â””â”€â”€â”€â”€ disconnect() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>
```

---

## ðŸ’¾ Data Models

### Transaction
```python
{
  "sender": "abc123...",
  "recipient": "def456...",
  "amount": 10.5,
  "timestamp": 1234567890,
  "tx_hash": "xyz789...",
  "signature": "sig..."
}
```

### Block
```python
{
  "index": 1,
  "timestamp": 1234567900,
  "transactions": [...],
  "previous_hash": "abc123...",
  "merkle_root": "def456...",
  "nonce": 2,
  "hash": "xyz789..."
}
```

### Wallet
```python
{
  "name": "Alice",
  "address": "abc123...",
  "balance": 50.0,
  "private_key": "xyz...",
  "public_key": "pub..."
}
```

---

## ðŸš€ Escalabilidade

### Horizontal
```
Load Balancer (Nginx)
        â”œâ”€ Server 1 (5000)
        â”œâ”€ Server 2 (5001)
        â””â”€ Server 3 (5002)
             â”œâ”€ Redis (cache)
             â””â”€ PostgreSQL (data)
```

### Vertical
```
Single Server
  â”œâ”€ More RAM (cache)
  â”œâ”€ Better CPU (mining)
  â”œâ”€ SSD (I/O)
  â””â”€ Multiple threads
```

---

## ðŸ”„ CI/CD Pipeline

```
Developer push to GitHub
        â”‚
        â–¼
GitHub Actions trigger
        â”‚
        â”œâ”€ Lint code
        â”œâ”€ Run tests
        â”œâ”€ Build Docker image
        â””â”€ Deploy to server
```

---

## ðŸ“Š Performance

- **CÃ¢mera**: 30 FPS
- **API Response**: <100ms
- **WebSocket Latency**: ~50ms
- **Mining**: VariÃ¡vel (dificuldade)
- **Memory**: ~200MB
- **CPU**: 10-20% (idle), 80%+ (mining)

---

## ðŸŽ¯ PadrÃµes de Design

### MVC
```
Model: SimpleBitcoinSystem, SimpleBlockchain
View: simple_index.html
Controller: simple_app.py routes
```

### Observer Pattern
```
Subject: WebSocket (SocketIO)
Observers: Frontend clients
Events: price_update, transaction_created, block_mined
```

### Singleton
```
SimpleBitcoinSystem: Uma Ãºnica instÃ¢ncia global
```

### Factory
```
SimpleWallet, SimpleTransaction, SimpleBlock: criadores
```

---

Made with â¤ï¸ and Bitcoin

Architecture Version: 1.0
Last Updated: 2024
